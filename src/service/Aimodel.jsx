import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
    systemInstruction: "Genrate Travel plan for Location : Las Vegas for three days for a couple with cheap budget, Give me hotel option list with ,HotelName , Hotel Address, Price, Hotel image URL, geo coordinates, ratings, description and suggest an itienary with PlaceName, PlaceDetails, Place image URL, geo coordinates, Ticket pricing, Rating, Time travel to each of the location for 3 days with each day plan with best time to visit in JSON \nformat",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

export const chatSession = model.startChat({
      generationConfig,

      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel plan for Location : Las Vegas for three days for a couple with cheap budget, Give me hotel option list with ,HotelName , Hotel Address, Price, Hotel image URL, geo coordinates, ratings, description and suggest an itienary with PlaceName, PlaceDetails, Place image URL, geo coordinates, Ticket pricing, Rating, Time travel to each of the location for 3 days with each day plan with best time to visit in JSON \nformat"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotels\": [\n    {\n      \"HotelName\": \"The D Las Vegas\",\n      \"HotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"Price\": \"$50 - $100 per night\",\n      \"HotelImageURL\": \"https://images.trvl-media.com/hotels/1000000/900000/890000/889300/889277/889277_118.jpg\",\n      \"geoCoordinates\": \"36.1699, -115.1423\",\n      \"ratings\": \"3.5 stars\",\n      \"description\": \"A budget-friendly hotel located in the heart of Fremont Street, offering a lively atmosphere with a casino, restaurants, and bars.\"\n    },\n    {\n      \"HotelName\": \"Golden Nugget Las Vegas\",\n      \"HotelAddress\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n      \"Price\": \"$75 - $150 per night\",\n      \"HotelImageURL\": \"https://images.trvl-media.com/hotels/1000000/900000/890000/889200/889193/889193_22.jpg\",\n      \"geoCoordinates\": \"36.1699, -115.1408\",\n      \"ratings\": \"4 stars\",\n      \"description\": \"A historic hotel on Fremont Street known for its elegant rooms, impressive aquarium, and lively casino.\"\n    },\n    {\n      \"HotelName\": \"Plaza Hotel & Casino\",\n      \"HotelAddress\": \"1 South Main Street, Las Vegas, NV 89101\",\n      \"Price\": \"$60 - $120 per night\",\n      \"HotelImageURL\": \"https://images.trvl-media.com/hotels/1000000/900000/890000/889500/889488/889488_30.jpg\",\n      \"geoCoordinates\": \"36.1699, -115.1404\",\n      \"ratings\": \"3.5 stars\",\n      \"description\": \"A hotel on Fremont Street offering comfortable rooms, a casino, and a variety of dining options.\"\n    },\n    {\n      \"HotelName\": \"Circus Circus Hotel & Casino\",\n      \"HotelAddress\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"Price\": \"$40 - $80 per night\",\n      \"HotelImageURL\": \"https://images.trvl-media.com/hotels/1000000/900000/890000/889600/889589/889589_32.jpg\",\n      \"geoCoordinates\": \"36.1212, -115.1736\",\n      \"ratings\": \"3 stars\",\n      \"description\": \"A family-friendly hotel known for its circus-themed attractions, casino, and numerous dining options.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"PlaceName\": \"Fremont Street Experience\",\n          \"PlaceDetails\": \"A pedestrian mall with a giant video screen, street performers, and numerous bars and restaurants.\",\n          \"PlaceImageURL\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/images/destinations/fremont-street-experience.jpg\",\n          \"geoCoordinates\": \"36.1699, -115.1423\",\n          \"TicketPricing\": \"Free\",\n          \"Rating\": \"4.5 stars\",\n          \"TimeTravel\": \"1 hour\",\n          \"BestTime\": \"Evening\"\n        },\n        {\n          \"PlaceName\": \"The Mob Museum\",\n          \"PlaceDetails\": \"A museum dedicated to the history of organized crime in America.\",\n          \"PlaceImageURL\": \"https://www.themobmuseum.org/media/images/pages/mob-museum-2023-main-banner-8.jpg\",\n          \"geoCoordinates\": \"36.1681, -115.1421\",\n          \"TicketPricing\": \"$25\",\n          \"Rating\": \"4 stars\",\n          \"TimeTravel\": \"2 hours\",\n          \"BestTime\": \"Afternoon\"\n        },\n        {\n          \"PlaceName\": \"The Neon Museum\",\n          \"PlaceDetails\": \"A museum showcasing historic neon signs from Las Vegas.\",\n          \"PlaceImageURL\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/images/destinations/neon-museum.jpg\",\n          \"geoCoordinates\": \"36.1712, -115.1532\",\n          \"TicketPricing\": \"$20\",\n          \"Rating\": \"4.5 stars\",\n          \"TimeTravel\": \"1 hour\",\n          \"BestTime\": \"Late afternoon\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"plan\": [\n        {\n          \"PlaceName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"PlaceDetails\": \"A stunning display of flowers and plants.\",\n          \"PlaceImageURL\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/images/destinations/bellagio-conservatory-and-botanical-garden.jpg\",\n          \"geoCoordinates\": \"36.1121, -115.1749\",\n          \"TicketPricing\": \"Free\",\n          \"Rating\": \"4.5 stars\",\n          \"TimeTravel\": \"1 hour\",\n          \"BestTime\": \"Morning\"\n        },\n        {\n          \"PlaceName\": \"The LINQ Promenade\",\n          \"PlaceDetails\": \"An outdoor shopping and dining district with a Ferris wheel.\",\n          \"PlaceImageURL\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/images/destinations/linq-promenade.jpg\",\n          \"geoCoordinates\": \"36.1248, -115.1714\",\n          \"TicketPricing\": \"Free\",\n          \"Rating\": \"4 stars\",\n          \"TimeTravel\": \"2 hours\",\n          \"BestTime\": \"Afternoon\"\n        },\n        {\n          \"PlaceName\": \"High Roller Observation Wheel\",\n          \"PlaceDetails\": \"A giant observation wheel offering panoramic views of the city.\",\n          \"PlaceImageURL\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/images/destinations/high-roller-observation-wheel.jpg\",\n          \"geoCoordinates\": \"36.1249, -115.1707\",\n          \"TicketPricing\": \"$35\",\n          \"Rating\": \"4.5 stars\",\n          \"TimeTravel\": \"1 hour\",\n          \"BestTime\": \"Sunset\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"plan\": [\n        {\n          \"PlaceName\": \"Red Rock Canyon National Conservation Area\",\n          \"PlaceDetails\": \"A scenic desert park with hiking trails and rock formations.\",\n          \"PlaceImageURL\": \"https://www.nps.gov/redr/learn/nature/images/RedRockCanyon_1_2823.jpg\",\n          \"geoCoordinates\": \"36.2223, -115.2557\",\n          \"TicketPricing\": \"$15 per vehicle\",\n          \"Rating\": \"4.5 stars\",\n          \"TimeTravel\": \"3 hours\",\n          \"BestTime\": \"Morning\"\n        },\n        {\n          \"PlaceName\": \"Hoover Dam\",\n          \"PlaceDetails\": \"A historic dam located just outside of Las Vegas.\",\n          \"PlaceImageURL\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/images/destinations/hoover-dam.jpg\",\n          \"geoCoordinates\": \"36.0052, -114.7911\",\n          \"TicketPricing\": \"Free\",\n          \"Rating\": \"4 stars\",\n          \"TimeTravel\": \"2 hours\",\n          \"BestTime\": \"Afternoon\"\n        }\n      ]\n    }\n  ]\n}\n```"},
          ],
        },
      ],
    });
  
